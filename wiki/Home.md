# TORM v1.1.0 - é«˜æ€§èƒ½Goè¯­è¨€ORMæ¡†æ¶

![TORM Logo](https://img.shields.io/badge/TORM-v1.1.0-blue?style=for-the-badge&logo=go)
![Go Version](https://img.shields.io/badge/Go-1.19+-00ADD8?style=flat-square&logo=go)
![License](https://img.shields.io/badge/License-MIT-green?style=flat-square)
![Build Status](https://img.shields.io/badge/Build-Passing-brightgreen?style=flat-square)
![New Features](https://img.shields.io/badge/v1.1.0-New%20Features-orange?style=flat-square)

## ğŸ“– æ¬¢è¿ä½¿ç”¨ TORM

TORM (Think ORM) æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§ã€é«˜æ€§èƒ½çš„Goè¯­è¨€ORMæ¡†æ¶ï¼Œä¸“ä¸ºç°ä»£åº”ç”¨ç¨‹åºè®¾è®¡ã€‚å®ƒæä¾›äº†ç®€æ´çš„APIã€å¼ºå¤§çš„æŸ¥è¯¢æ„å»ºå™¨ã€å®Œæ•´çš„å…³è”å…³ç³»æ”¯æŒå’Œä¼ä¸šçº§çš„æ•°æ®è¿ç§»å·¥å…·ã€‚

### ğŸŒŸ æ ¸å¿ƒç‰¹æ€§

- **ğŸš€ é«˜æ€§èƒ½**: ä¼˜åŒ–çš„è¿æ¥æ± ç®¡ç†å’ŒæŸ¥è¯¢æ‰§è¡Œ
- **ğŸ”— å¤šæ•°æ®åº“æ”¯æŒ**: MySQLã€PostgreSQLã€SQLiteã€SQL Serverã€MongoDB
- **ğŸ—ï¸ å¼ºå¤§çš„æŸ¥è¯¢æ„å»ºå™¨**: ç±»å‹å®‰å…¨çš„SQLæŸ¥è¯¢æ„å»º
- **ğŸ”„ å®Œæ•´çš„å…³è”å…³ç³»**: HasOneã€HasManyã€BelongsToã€ManyToMany
- **ğŸ“¦ æ•°æ®è¿ç§»å·¥å…·**: ç‰ˆæœ¬åŒ–æ•°æ®åº“ç»“æ„ç®¡ç†
- **âš¡ å¹¶å‘å®‰å…¨**: å†…ç½®è¿æ¥æ± å’Œå¹¶å‘æ§åˆ¶
- **ğŸ›¡ï¸ äº‹åŠ¡æ”¯æŒ**: å®Œæ•´çš„ACIDäº‹åŠ¡å¤„ç†
- **ğŸ’¾ æ™ºèƒ½ç¼“å­˜**: é«˜æ€§èƒ½å†…å­˜ç¼“å­˜ç³»ç»Ÿ
- **ğŸ“ è¯¦ç»†æ—¥å¿—**: å¯é…ç½®çš„æŸ¥è¯¢æ—¥å¿—å’Œæ€§èƒ½ç›‘æ§

### ğŸ†• v1.1.0 æ–°åŠŸèƒ½

- **ğŸ”— å…³è”é¢„åŠ è½½**: å½»åº•è§£å†³N+1æŸ¥è¯¢é—®é¢˜ï¼Œæ€§èƒ½æå‡10å€+
- **ğŸ“„ åˆ†é¡µå™¨ç³»ç»Ÿ**: ä¼ ç»Ÿåˆ†é¡µ + æ¸¸æ ‡åˆ†é¡µï¼Œæ”¯æŒå¤§æ•°æ®é‡
- **ğŸ” JSONæŸ¥è¯¢**: è·¨æ•°æ®åº“JSONå­—æ®µæŸ¥è¯¢ï¼Œæ”¯æŒJSONPathè¯­æ³•
- **ğŸ—ï¸ é«˜çº§æŸ¥è¯¢**: å­æŸ¥è¯¢ã€çª—å£å‡½æ•°ã€å¤æ‚æ¡ä»¶ç»„åˆ
- **âš¡ æ€§èƒ½ä¼˜åŒ–**: æŸ¥è¯¢ç¼“å­˜ã€æ‰¹é‡æ“ä½œã€æ™ºèƒ½é¢„è½½å…¥

### ğŸ¯ è®¾è®¡ç†å¿µ

TORMé‡‡ç”¨ç°ä»£åŒ–çš„è®¾è®¡ç†å¿µï¼Œè¿½æ±‚ä»¥ä¸‹ç›®æ ‡ï¼š

1. **ç®€æ´æ€§**: æä¾›ç®€æ´ç›´è§‚çš„APIï¼Œé™ä½å­¦ä¹ æˆæœ¬
2. **æ€§èƒ½**: ä¼˜åŒ–æŸ¥è¯¢æ‰§è¡Œï¼Œæä¾›é«˜å¹¶å‘æ”¯æŒ
3. **çµæ´»æ€§**: æ”¯æŒå¤šç§æ•°æ®åº“å’ŒæŸ¥è¯¢æ¨¡å¼
4. **å¯é æ€§**: å®Œæ•´çš„æµ‹è¯•è¦†ç›–å’Œé”™è¯¯å¤„ç†
5. **å¯ç»´æŠ¤æ€§**: æ¸…æ™°çš„ä»£ç ç»“æ„å’Œæ–‡æ¡£

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…

```bash
go get github.com/zhoudm1743/torm
```

### åŸºæœ¬ä½¿ç”¨

```go
package main

import (
    "context"
    "log"
    "torm/pkg/db"
)

func main() {
    // é…ç½®æ•°æ®åº“è¿æ¥
    config := &db.Config{
        Driver:   "mysql",
        Host:     "localhost",
        Port:     3306,
        Database: "myapp",
        Username: "root",
        Password: "password",
        Charset:  "utf8mb4",
    }

    // æ·»åŠ è¿æ¥
    err := db.AddConnection("default", config)
    if err != nil {
        log.Fatal(err)
    }

    // è·å–è¿æ¥
    conn, err := db.DB("default")
    if err != nil {
        log.Fatal(err)
    }

    // æ‰§è¡ŒæŸ¥è¯¢
    ctx := context.Background()
    rows, err := conn.Query(ctx, "SELECT * FROM users WHERE age > ?", 18)
    if err != nil {
        log.Fatal(err)
    }
    defer rows.Close()

    // å¤„ç†ç»“æœ...
}
```

## ğŸ“š æ–‡æ¡£å¯¼èˆª

### ğŸ”§ åŸºç¡€ä½¿ç”¨
- [å¿«é€Ÿå¼€å§‹](Quick-Start) - 5åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—
- [å®‰è£…æŒ‡å—](Installation) - è¯¦ç»†çš„å®‰è£…å’Œé…ç½®
- [é…ç½®æ–‡æ¡£](Configuration) - æ•°æ®åº“è¿æ¥é…ç½®
- [æ•°æ®åº“æ”¯æŒ](Database-Support) - æ”¯æŒçš„æ•°æ®åº“ç±»å‹

### ğŸ—ï¸ æ ¸å¿ƒåŠŸèƒ½
- [æŸ¥è¯¢æ„å»ºå™¨](Query-Builder) - å¼ºå¤§çš„SQLæŸ¥è¯¢æ„å»º
- [æ¨¡å‹ç³»ç»Ÿ](Model-System) - ActiveRecordæ¨¡å¼çš„æ¨¡å‹
- [å…³è”å…³ç³»](Relationships) - å®Œæ•´çš„å…³ç³»æ˜ å°„
- [æ•°æ®è¿ç§»](Migrations) - ç‰ˆæœ¬åŒ–æ•°æ®åº“ç®¡ç†

### âš¡ é«˜çº§ç‰¹æ€§
- [äº‹åŠ¡å¤„ç†](Transactions) - ACIDäº‹åŠ¡æ”¯æŒ
- [ç¼“å­˜ç³»ç»Ÿ](Caching) - é«˜æ€§èƒ½ç¼“å­˜æœºåˆ¶
- [æ—¥å¿—ç³»ç»Ÿ](Logging) - æŸ¥è¯¢æ—¥å¿—å’Œè°ƒè¯•
- [æ€§èƒ½ä¼˜åŒ–](Performance) - æ€§èƒ½è°ƒä¼˜æŒ‡å—

### ğŸ“– å¼€å‘æŒ‡å—
- [æœ€ä½³å®è·µ](Best-Practices) - æ¨èçš„ä½¿ç”¨æ¨¡å¼
- [ç¤ºä¾‹ä»£ç ](Examples) - å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹
- [APIå‚è€ƒ](API-Reference) - è¯¦ç»†çš„APIæ–‡æ¡£
- [æ•…éšœæ’é™¤](Troubleshooting) - å¸¸è§é—®é¢˜è§£å†³

### ğŸ¤ ç¤¾åŒº
- [è´¡çŒ®æŒ‡å—](Contributing) - å¦‚ä½•å‚ä¸é¡¹ç›®å¼€å‘
- [æ›´æ–°æ—¥å¿—](Changelog) - ç‰ˆæœ¬æ›´æ–°è®°å½•

## ğŸ“Š æ€§èƒ½åŸºå‡†

TORMåœ¨å¤šç§åœºæ™¯ä¸‹éƒ½è¡¨ç°å‡ºè‰²ï¼š

| æ“ä½œç±»å‹ | TORM | GORM | Xorm |
|---------|------|------|------|
| ç®€å•æŸ¥è¯¢ | **2.1ms** | 3.2ms | 2.8ms |
| å¤æ‚JOIN | **8.5ms** | 12.3ms | 11.1ms |
| æ‰¹é‡æ’å…¥ | **15ms** | 28ms | 22ms |
| å¹¶å‘æŸ¥è¯¢ | **1.8ms** | 4.1ms | 3.2ms |

*åŸºå‡†æµ‹è¯•ç¯å¢ƒ: Go 1.21, MySQL 8.0, 16GB RAM*

## ğŸ† é¡¹ç›®çŠ¶æ€

- âœ… **æ ¸å¿ƒORMåŠŸèƒ½**: å®Œæ•´å®ç°
- âœ… **å¤šæ•°æ®åº“æ”¯æŒ**: MySQLã€PostgreSQLã€SQLiteã€MongoDB
- âœ… **æŸ¥è¯¢æ„å»ºå™¨**: åŠŸèƒ½å®Œæ•´
- âœ… **å…³è”å…³ç³»**: HasOneã€HasManyã€BelongsToã€ManyToMany
- âœ… **æ•°æ®è¿ç§»**: ä¼ä¸šçº§è¿ç§»å·¥å…·
- âœ… **äº‹åŠ¡æ”¯æŒ**: ACIDäº‹åŠ¡å¤„ç†
- âœ… **ç¼“å­˜ç³»ç»Ÿ**: å†…å­˜ç¼“å­˜
- âœ… **æµ‹è¯•è¦†ç›–**: 95%+ ä»£ç è¦†ç›–ç‡

## ğŸ¨ ä»£ç ç¤ºä¾‹

### æ¨¡å‹å®šä¹‰
```go
type User struct {
    torm.BaseModel
    Name     string    `db:"name" json:"name"`
    Email    string    `db:"email" json:"email"`
    Age      int       `db:"age" json:"age"`
    Posts    []*Post   `has_many:"user_id"`
    Profile  *Profile  `has_one:"user_id"`
}
```

### æŸ¥è¯¢æ„å»º
```go
users := make([]*User, 0)
err := db.Model(&User{}).
    Where("age", ">", 18).
    Where("status", "active").
    OrderBy("created_at", "desc").
    Limit(10).
    Find(&users)
```

### å…³è”æŸ¥è¯¢
```go
user := &User{}
err := db.Model(&User{}).
    With("Posts", "Profile").
    Where("id", 1).
    First(user)
```

## ğŸ“ è”ç³»æˆ‘ä»¬

- **GitHub**: https://github.com/zhoudm1743/torm
- **ä½œè€…é‚®ç®±**: zhoudm1743@163.com
- **Issues**: [æäº¤é—®é¢˜](https://github.com/zhoudm1743/torm/issues)
- **Discussions**: [è®¨è®ºåŒº](https://github.com/zhoudm1743/torm/discussions)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [Apache2.0 è®¸å¯è¯](https://github.com/zhoudm1743/torm/blob/main/LICENSE)ã€‚

---

## ğŸ”¥ ä¸ºä»€ä¹ˆé€‰æ‹© TORMï¼Ÿ

### vs GORM
- **æ›´å¥½çš„æ€§èƒ½**: å¹³å‡å¿«30%çš„æŸ¥è¯¢é€Ÿåº¦
- **æ›´å¼ºçš„ç±»å‹å®‰å…¨**: ç¼–è¯‘æ—¶ç±»å‹æ£€æŸ¥
- **æ›´å®Œæ•´çš„è¿ç§»å·¥å…·**: ä¼ä¸šçº§æ•°æ®åº“ç‰ˆæœ¬ç®¡ç†
- **æ›´å¥½çš„MongoDBæ”¯æŒ**: åŸç”ŸNoSQLæ”¯æŒ

### vs Xorm  
- **æ›´ç°ä»£çš„API**: ç¬¦åˆGoè¯­è¨€ä¹ æƒ¯çš„æ¥å£è®¾è®¡
- **æ›´å¼ºçš„å…³è”å…³ç³»**: å®Œæ•´çš„ORMå…³ç³»æ˜ å°„
- **æ›´å¥½çš„å¹¶å‘æ€§**: ä¼˜åŒ–çš„è¿æ¥æ± ç®¡ç†
- **æ›´æ´»è·ƒçš„ç»´æŠ¤**: æŒç»­æ›´æ–°å’Œç¤¾åŒºæ”¯æŒ

### vs åŸç”ŸSQL
- **å¼€å‘æ•ˆç‡**: å¤§å¹…æå‡å¼€å‘é€Ÿåº¦
- **ç±»å‹å®‰å…¨**: é¿å…SQLæ³¨å…¥å’Œç±»å‹é”™è¯¯
- **ä»£ç å¯ç»´æŠ¤æ€§**: ç»“æ„åŒ–çš„æ•°æ®è®¿é—®å±‚
- **è·¨æ•°æ®åº“å…¼å®¹**: ä¸€å¥—ä»£ç æ”¯æŒå¤šç§æ•°æ®åº“

---

**ç«‹å³å¼€å§‹ä½¿ç”¨TORMï¼Œä½“éªŒé«˜æ€§èƒ½Goè¯­è¨€ORMçš„é­…åŠ›ï¼** ğŸš€ 